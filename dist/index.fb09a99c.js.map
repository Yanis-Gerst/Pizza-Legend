{"mappings":"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","sources":["Script/State/PlayerState.js"],"sourcesContent":["\nclass PlayerState {\n    constructor() {\n        this.name = \"hero\"\n        this.pizzas = {}\n        \n        this.statPizzaUpdate()\n        this.lineup = []\n        this.items = []\n        \n        this.storyFlags = {}\n        this.numberFlags = 0;\n        this.moneyIcon = new IconSprite({\n            src: \"/images/icons/Money Sprite.png\"\n        })\n        this.money = 0\n        \n    }\n\n    swapLineup(oldId, newId) {\n        \n        const oldIndex = this.lineup.indexOf(oldId)\n        this.lineup[oldIndex] = newId\n        utils.createCustomEvent(\"lineupChanged\")\n       \n    }\n\n    moveToFront(frontId) {\n        this.lineup = this.lineup.filter(id => id !== frontId)\n        this.lineup.unshift(frontId)\n        utils.createCustomEvent(\"lineupChanged\")\n    }\n\n    addPizza(pizzaId) {\n        const newId = `p${Date.now()}`+ Math.floor(Math.random() * 9999)\n        //A changer les stats\n\n        this.pizzas[newId] = pizzas.getPizzaStat(pizzaId)\n\n        if (this.lineup.length < 4) {\n            this.lineup.push(newId)\n        }\n\n        utils.createCustomEvent(\"lineupChanged\")\n    }\n\n    statPizzaUpdate() {\n     \n        document.addEventListener(\"pizzaLvlUp\", (e) => {\n            const pizza = e.detail.whoPizz\n            const getNewAttack = () => { \n                const newAttack = this.pizzaGetNewAttack(pizza)\n                if (!newAttack) return\n                pizza.actions.push(newAttack)\n            }\n\n            //Set up Stat\n            window.pizzas.addStat(pizza)\n\n            //Set up New Attack\n            if (pizza.level > 6 && pizza.level % 5 === 0) {\n                getNewAttack()\n            } else if (pizza.level > 3 && pizza.level % 3 === 0) {\n                getNewAttack()\n            } else if (pizza.level < 3 && pizza.level % 2 === 0) {\n                getNewAttack()\n            }\n          \n        })\n    }\n\n    pizzaGetNewAttack(pizza) {\n        let newAction;\n        for (let i = 0;i < pizza.canGetActions.length; i++) {\n            \n            //Check new Action who the pizza don't have, a optmiser en cherchant dans la boucle a chaque fois\n            if (!pizza.actions.includes(pizza.canGetActions[i]) ) {\n                newAction = pizza.canGetActions[i]\n                break;\n            };\n        }\n        return newAction\n    }\n\n    getPlayerName(map) {\n      \n        const introNpc = map.gameObject.npc2\n        map.removeWalls(introNpc.x, introNpc.y)\n        map.gameObject.npc2.x = withGrid(5)\n        map.gameObject.npc2.y = withGrid(10)\n        map.gameObject.npc2.direction = \"up\"\n        const event = [\n            // {type: \"textMessage\", text:\"Dit-moi ton Pseudo ?\", getPlayerName:true}, \n            // {type: \"textMessage\", text:\"Toi là\"},\n            {type:\"walk\", direction:\"up\", who:\"npc2\"},\n            {type:\"walk\", direction:\"up\", who:\"npc2\"},\n            // {type: \"textMessage\", text:\"__Intro-Cinématique__\", who:\"Mister V\"},\n            // {type: \"textMessage\", text:\"Pour l'instant j'ai pas de skin mais c'est black Mister V\", who:\"Mister V\"},\n            // {type: \"textMessage\", text:\"Comme tu sais on a tous les 2 une mission, le même objectif\", who:\"Mister V\"},\n            // {type: \"textMessage\", text:\"Pour l'accomplir je vais t'aider a fabriquer ta premier pizza\", who:\"Mister V\"},\n            // {type: \"textMessage\", text:\"Puis tu vas t'entrainer avec d'autre chef Pizza du coin\", who:\"Mister V\"},\n            // {type: \"textMessage\", text:\"Quand t'aura le niveau nécessaire on iras dans 7 pays différents pour imposer la vrai Pizza.\", who:\"Mister V\"},\n            // {type: \"textMessage\", text:\"Bon pour créer ta première pizza tu vas sur le truc à droite.\", who:\"Mister V\"},\n            // {type: \"textMessage\", text:\"C'est une pierre à pizza du futur avec ça tu peux faire une pizza de A à Z.\", who:\"Mister V\"},\n            {type:\"walk\", direction:\"left\", who:\"npc2\"},\n            {type:\"walk\", direction:\"left\", who:\"npc2\"},\n            {type:\"walk\", direction:\"left\", who:\"npc2\"},\n            \n        ]\n        \n        map.startCutscene(event)\n    }\n}\n\n\nwindow.playerState = new PlayerState()\n"],"names":[],"version":3,"file":"index.fb09a99c.js.map","sourceRoot":"/__parcel_source_root/"}