{"mappings":"AAAA,MAAM,YAAY;IACd,YAAY,EAAC,MAAM,CAAA,EAAE,UAAU,CAAA,EAAE,SAAS,CAAA,EAAC,CAAE;QACzC,IAAI,CAAC,MAAM,GAAG,MAAM;QACpB,IAAI,CAAC,UAAU,GAAG,UAAU;KAC/B;IAED,UAAU,GAAG;QAET,MAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA,EAAE,GAAI;YACtC,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC;YAC9B,OAAO;gBACH,KAAK,EAAE,IAAI,CAAC,IAAI;gBAChB,YAAY,EAAE,IAAI,CAAC,YAAY;gBAC/B,OAAO,EAAE,IAAM;oBACX,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC;oBACxB,IAAI,CAAC,KAAK,EAAE;iBAEf;aACJ,CAAA;SACJ,CAAC;QACF,MAAM,WAAW,GAAG;YAChB,KAAK,EAAE,MAAM;YACb,YAAY,EAAE,sBAAmB;YAChC,OAAM,EAAE,IAAM;gBACX,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;aACnB;SACJ;QACD,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;QAC7B,OAAO,WAAW,CAAA;KAErB;IACD,KAAK,CAAC,QAAQ,GAAG,KAAK,EAAE;QACpB,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;QACvB,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;QACrB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;KAC5B;IAED,aAAa,GAAG;QACZ,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC;;QAE1B,CAAC,AAAC;KACL;IAED,WAAW,GAAG;QACV,sDAAqD;QACrD,MAAM,mBAAmB,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAA,KAAK,GAAI;YACvE,OAAO,KAAK,CAAC,OAAO,CAAA;SACvB,CAAC;QAEF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA,EAAE,GAAI;YACnC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;SAC3C,CAAC;KAEL;IACD,IAAI,CAAC,SAAS,EAAE;QACZ,IAAI,CAAC,aAAa,EAAE;QACpB,IAAI,CAAC,WAAW,EAAE;QAClB,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC;YACjC,qBAAqB,EAAE,SAAS;SACnC,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;QAE/C,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC;KAEtC;CACJ","sources":["Script/CrafingMenu.js"],"sourcesContent":["class CraftingMenu {\n    constructor({pizzas, onComplete, overworld}) {\n        this.pizzas = pizzas\n        this.onComplete = onComplete\n    }   \n\n    getOptions() {\n     \n        const menuOptions = this.pizzas.map(id => {\n            const base = window.pizzas[id]\n            return {\n                label: base.name,\n                descriptions: base.descriptions,\n                handler: () => {\n                    playerState.addPizza(id)\n                    this.close()\n                   \n                }\n            }\n        })\n        const backOptions = {\n            label: \"Back\",\n            descriptions: \"Retour en Arrière\",\n            handler: () => {\n                this.close(true)\n            }\n        }\n        menuOptions.push(backOptions)\n        return menuOptions\n        \n    }\n    close(didClose = false) {\n        this.keyboardMenu.end()\n        this.element.remove()\n        this.onComplete(didClose)\n    }\n\n    createElement() {\n        this.element = document.createElement(\"div\")\n        this.element.classList.add(\"overlayMenu\")\n        this.element.innerHTML =(`\n            <h2>Créer ta pizza</h2>\n        `)\n    }\n\n    updatePizza() {\n        //Retourne que les pizza que le joueur ne possède pas\n        const listOfPlayerPizzaId = Object.values(playerState.pizzas).map(pizza => {\n            return pizza.pizzaId\n        })\n\n        this.pizzas = this.pizzas.filter(id => {\n            return !listOfPlayerPizzaId.includes(id)\n        })\n        \n    }\n    init(container) {\n        this.createElement()\n        this.updatePizza()\n        this.keyboardMenu = new KeyboardMenu({\n            descriptionsContainer: container\n        })\n        this.keyboardMenu.init(this.element)\n        this.keyboardMenu.setOptions(this.getOptions())\n\n        container.appendChild(this.element)\n\n    }\n}"],"names":[],"version":3,"file":"index.3a0feb85.js.map","sourceRoot":"/__parcel_source_root/"}