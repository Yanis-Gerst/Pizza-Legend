{"mappings":"AAAA,MAAM,WAAW;IACb,YAAY,EAAC,IAAI,CAAA,EAAE,UAAU,CAAA,EAAE,OAAO,CAAA,EAAE,aAAa,CAAA,EAAC,CAAE;QACpD,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,UAAU,GAAG,UAAU;QAC5B,IAAI,CAAC,OAAO,GAAG,OAAO;QACtB,IAAI,CAAC,aAAa,GAAG,aAAa;KACrC;IAED,aAAa,GAAG;QACZ,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC;QAEtC,IAAI,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,IAAI,CAAC,SAAS,GAAI,CAAC;;sCAEE,EAAE,IAAI,CAAC,OAAO,CAAC;;YAEzC,CAAC,AAAC;aAEF,IAAI,CAAC,IAAI,CAAC,SAAS,GAAI,CAAC;;;YAGxB,CAAC,AAAC;QAGN,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC;YAC7B,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC;YAClD,IAAI,EAAE,IAAI,CAAC,IAAI;SAClB,CAAC;QACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC/C,MAAM,IAAI,GAAG,IAAM;YACd,IAAI,CAAC,IAAI,EAAE;SACd;QACF,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC;QAE3C,IAAI,CAAC,cAAc,GAAG,IAAI,gBAAgB,CAAC,OAAO,EAAE,IAAM;YACtD,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EACtB,IAAI,CAAC,IAAI,EAAE;iBAEX,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;SAEnC,CAAC;KAEL;IAED,WAAW,GAAG;QACV,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;QAC3C,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,YAAY;QACpC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC;KAC9C;IAGD,IAAI,GAAG;QACH,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;QAClB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;QAC5B,IAAI,CAAC,UAAU,EAAE;QAEjB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,OAAM;QAC/B,MAAM,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK;QACzC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;KACrB;IAED,IAAI,CAAC,SAAS,EAAE;QACZ,IAAI,CAAC,aAAa,EAAE;QACpB,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;QAChC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE;QAGtB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,OAAM;QAC/B,IAAI,CAAC,WAAW,EAAE;QAClB,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;KACpB;CACJ","sources":["Script/TextMessage.js"],"sourcesContent":["class TextMessage {\n    constructor({text, onComplete, npcName, getPlayerName}) {\n        this.elem = null\n        this.text = text\n        this.onComplete = onComplete\n        this.npcName = npcName\n        this.getPlayerName = getPlayerName\n    }\n\n    createElement() {\n        this.elem = document.createElement(\"div\")\n        this.elem.classList.add(\"TextMessage\")\n       \n        if (this.npcName) {\n            this.elem.innerHTML = (`\n                <p class=\"TextMessage-p\"><p>\n                <div class=\"npc-name\">${this.npcName}</div>\n                <button class=\"TextMessage-button\">Next</button>\n            `)\n        } else {\n            this.elem.innerHTML = (`\n                <p class=\"TextMessage-p\"><p>\n                <button class=\"TextMessage-button\">Next</button>\n            `)\n        }\n        \n        this.typeWriter = new TypeWriter({\n            element: this.elem.querySelector(\".TextMessage-p\"),\n            text: this.text\n        })\n        this.button = this.elem.querySelector(\"button\")\n        const test = () => {\n             this.done()\n         }\n        this.button.addEventListener(\"click\", test)\n        \n        this.actionListener = new KeyPressListener(\"Enter\", () => {\n            if (this.typeWriter.isDone) {\n                this.done()    \n            } else {\n                this.typeWriter.warpToDone()\n            }\n        })\n        \n    }\n\n    getNameForm() {\n        this.form = document.createElement(\"input\") \n        this.form.placeholder = \"Ton nom...\"\n        this.form.classList.add(\"input-playername\")\n    }\n\n\n    done() {\n        this.button.removeEventListener(\"click\", test)  \n        this.elem.remove()\n        this.actionListener.unbind()\n        this.onComplete()\n\n        if (!this.getPlayerName) return\n        window.playerState.name = this.form.value\n        this.form.remove()\n    }\n\n    init(container) {\n        this.createElement()\n        container.appendChild(this.elem)\n        this.typeWriter.init()\n\n\n        if (!this.getPlayerName) return\n        this.getNameForm()\n        container.appendChild(this.form)\n        this.form.focus() \n    }\n}"],"names":[],"version":3,"file":"index.9711b42a.js.map","sourceRoot":"/__parcel_source_root/"}