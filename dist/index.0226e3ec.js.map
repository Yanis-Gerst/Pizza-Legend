{"mappings":"AAAA,MAAM,GAAG,SAAS,MAAM;IACpB,YAAY,MAAM,CAAE;QAChB,KAAK,CAAC,MAAM,CAAC,CAAC;KACjB;IAED,MAAM,CAAC,KAAK,EAAE;QAEV,IAAI,CAAC,aAAa,EAAE;QACpB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;KAE3B;IAED,aAAa,CAAC,KAAK,EAAE,QAAQ,EAAE;QAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS;QAEnC,IAAI,QAAQ,CAAC,IAAI,KAAK,MAAM,EAAE;YAC1B,IAAI,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE;gBACxD,IAAI,CAAC,kBAAkB,GAAG,CAAC;gBAC3B,gGAA6F;gBAC1F,IAAC,KAAK,CAAC,GAAG,CAAC,eAAe,EAAE;oBAC3B,KAAK,CAAC,iBAAiB,CAAC,aAAa,EAAC;wBAClC,KAAK,EAAE,IAAI,CAAC,EAAE;qBACjB,CAAC;oBACF,IAAI,CAAC,iBAAiB,IAAI,CAAC;oBAC3B,OAAM;iBACT;gBAED,iCAAgC;gBAChC,UAAU,CAAC,IAAM;oBACb,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,QAAQ,CAAC;iBACtC,EAAE,EAAE,CAAC;gBACN,OAAM;aACT;YAED,IAAI,CAAC,kBAAkB,GAAG,EAAE;YAC5B,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC;SAEtD;QAED,IAAI,QAAQ,CAAC,IAAI,KAAK,OAAO,EAAE;YAC3B,IAAI,CAAC,UAAU,GAAG,IAAI;YACtB,UAAU,CAAC,IAAM;gBACb,KAAK,CAAC,iBAAiB,CAAC,cAAc,EAAE;oBACpC,KAAK,EAAE,IAAI,CAAC,EAAE;iBACjB,CAAC;gBACF,IAAI,CAAC,UAAU,GAAG,KAAK;aAC1B,EAAE,QAAQ,CAAC,IAAI,CAAC;SAEpB;QACD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;KACrB;CAIJ","sources":["Script/Npc.js"],"sourcesContent":["class Npc extends Person {\n    constructor(config) {\n        super(config);\n    }\n\n    update(state) {\n        \n        this.updatePostion()\n        this.updateSprite(state)\n        \n    }\n\n    startBehavior(state, behavior) {\n        console.log(this, \"Start\")\n        this.direction = behavior.direction\n       \n        if (behavior.type === \"walk\") {\n            if (state.map.isSpaceTaken(this.x, this.y, this.direction)) {\n                this.moveProgressRemain = 0\n                //Si une cinématique on anule et on fait la cinématique, -> Puis on se remet a l'étape inital\n                if (state.map.cutscenePlaying) {\n                    utils.createCustomEvent(\"IFinishWalk\",{\n                        whoId: this.id\n                    })\n                    this.behaviorLoopIndex -= 1\n                    return\n                }\n\n                //Les Npc force pour se déplacer\n                setTimeout(() => {\n                    this.startBehavior(state, behavior)\n                }, 10)     \n                return       \n            }\n            \n            this.moveProgressRemain = 16\n            state.map.moveWalls(this.x, this.y, this.direction)\n\n        }\n\n        if (behavior.type === \"stand\") {\n            this.isStanding = true\n            setTimeout(() => {\n                utils.createCustomEvent(\"IFinishStand\", {\n                    whoId: this.id\n                })\n                this.isStanding = false\n            }, behavior.time)   \n            \n        }\n        console.log(\"end\")\n    }\n\n    \n\n}"],"names":[],"version":3,"file":"index.0226e3ec.js.map","sourceRoot":"/__parcel_source_root/"}