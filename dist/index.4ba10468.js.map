{"mappings":"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","sources":["Script/sprite.js"],"sourcesContent":["\nclass Sprite {\n    constructor(config) {\n\n        this.gameObject = config.gameObject\n        this.image = new Image()\n        this.image.src = config.src\n        \n        \n        if (config.useShadow) {\n            this.shadow = new Image()\n            this.shadow.src = \"images/characters/shadow.png\"\n            this.shadow.onload = () => {\n                this.shadowLoaded = true\n            }\n        }\n\n        this.image.onload = () => {\n            this.imageLoaded = true\n        }\n\n\n        //Animation & Inital State \n\n        this.animation = config.animation || {\n            \"stand-down\": [ [0,0] ],\n            \"stand-up\": [ [0,2] ],\n            \"stand-left\": [ [0,3] ],\n            \"stand-right\": [ [0,1] ],\n            \"walk-down\": [ [0,0], [1,0], [0,0], [3,0] ],\n            \"walk-up\": [ [0,2], [1,2], [0,2], [3,2] ],\n            \"walk-left\": [ [0,3], [1,3], [0,3], [3,3] ],\n            \"walk-right\": [ [0,1], [1,1], [0,1], [3,1] ]\n        }\n        this.currentAnimation = config.currentAnimation || \"stand-down\"\n        this.currentAnimationFrame = 0\n        this.animationFrameLimit = config.animationFrameLimit || 8\n        this.animationProgress = this.animationFrameLimit\n\n    }\n\n    get frame() {\n        \n        return this.animation[this.currentAnimation][this.currentAnimationFrame]\n    }\n\n    updateAnimation() {\n        //Faire dÃ©filer Les Frames\n        if (this.animationProgress > 0) {\n            this.animationProgress -= 1\n        } else {\n            this.animationProgress = this.animationFrameLimit\n            this.currentAnimationFrame += 1\n        }\n\n        if (this.frame == undefined) {\n            this.currentAnimationFrame = 0\n        }\n    }\n    \n    setAnimation(key) {\n        \n        if (key != this.currentAnimation)  {\n            this.currentAnimation = key\n            this.animationProgress = this.animationFrameLimit\n            this.currentAnimationFrame = 0\n        }\n    }\n\n    draw(ctx, cameraPerson) {\n        let x = this.gameObject.x + cameraPerson.centerX - cameraPerson.person.x\n        let y = this.gameObject.y + cameraPerson.centerY - cameraPerson.person.y\n        \n        \n        let [spriteX, spriteY] = this.frame\n       \n        if (this.shadowLoaded) {\n            ctx.drawImage(\n                this.shadow,\n                0, 0,\n                32, 32,\n                x, y,\n                32, 32\n            )\n        }\n\n        if (this.imageLoaded) {\n            ctx.drawImage(\n                this.image,\n                utils.caseSprite(spriteX), utils.caseSprite(spriteY),\n                32, 32,\n                x, y,\n                32, 32\n            )\n        }\n        \n\n        this.updateAnimation()\n    }\n\n  \n\n}"],"names":[],"version":3,"file":"index.4ba10468.js.map","sourceRoot":"/__parcel_source_root/"}